---
description: 核心开发规范，包含代码质量检查要求和响应语言设置，适用于所有场景。
globs: 
alwaysApply: true
---

# 核心开发规范

## 代码质量检查（必须执行）
每次输出代码后，**必须按顺序执行以下检查**：

### 1. 语法与编译检查
- 检查语法是否正确，能否正常编译/运行
- 检查是否有未导入的模块或类型
- 检查是否有未使用的导入语句

### 2. Lint 错误修复
- **必须运行 linter 检查**（如 ESLint、TSLint、rustfmt、clippy 等）
- 修复所有 lint 错误和警告
- 确保代码符合项目的 lint 配置

### 3. 类型完整性检查
- **TypeScript/Java/Rust**：检查所有函数参数、返回值是否已声明类型
- 禁止使用 `any`（TypeScript）或未标注类型
- 补充缺失的类型定义
- 确保类型定义已放入 `types/` 目录（如适用）

### 4. 代码抽离与复用
- **检查重复代码**：识别是否存在重复逻辑，必须抽离为公共函数/组件
- **公共逻辑抽离**：
  - 相同或相似的函数 → 提取到 `utils/` 或 `common/`
  - 相同的组件逻辑 → 提取为自定义 Hook/Composable/函数
  - 相同的业务逻辑 → 提取到 Service/Repository 层
- **禁止复制粘贴**：严禁在多个位置复制粘贴相同代码

### 5. 无用代码清理
- 删除未使用的变量、函数、导入
- 删除注释掉的代码
- 删除调试用的 `console.log`、`println!` 等
- 删除未使用的类型定义

### 6. 逻辑完整性检查
- 检查是否有遗漏的边界情况（空值、异常、边界值）
- 检查错误处理是否完整
- 检查资源释放（如文件句柄、数据库连接）

### 7. 命名与风格检查
- 检查是否符合命名约定（组件 PascalCase，函数 camelCase）
- 检查是否符合代码风格规范
- 检查导入顺序是否符合规范

## 执行流程
1. **编写代码**
2. **执行上述 7 项检查**（必须逐项完成）
3. **修复发现的问题**
4. **再次验证**（确保修复后无新问题）
5. **输出最终代码**

## 响应语言
- 所有回复必须使用**简体中文**
