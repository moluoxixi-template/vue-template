---
description: 适用于 Vue 3 + Vite + TS 项目的开发规范，涵盖组件编写、类型管理及逻辑抽离。
globs: 
  - "**/*.vue"
  - "**/*.ts"
alwaysApply: false
---

# Vue 3 开发专家指令

## 核心流程
1. **改动确认**：面对复杂逻辑或 3 个以上文件的修改，必须先列出"拟修改文件清单及逻辑要点"，并询问："确认执行吗？" 在收到肯定答复后再开始编码。

## 类型定义规范 (Strict Types)
- **存放位置**：所有接口、类型声明必须放在 `types/` 目录下。
- **文件命名**：必须强语义化。例如：`props.ts`, `api-params.ts`, `models.ts`。
- **命名规范**：类型名需清晰表达用途。
  - 组件 Props：`[ComponentName]PropsType` (例: `UserCardPropsType`)
  - 数据模型：`[EntityName]ModelType`
  - 严禁在 `.vue` 文件中直接定义复杂 interface。

## 最佳实践与验证
- **组件写法**：强制使用 `<script setup>` 和 `lang="ts"`。
- **Props 定义**：必须使用 `withDefaults` 宏定义默认值。
- **逻辑复用**：
  - 相同逻辑或副作用必须抽离至 `composables/` 或 `src/utils/common.ts`。
  - 严禁在多个组件中复制粘贴相似的 `watch` 或 `computed` 逻辑。
- **自检清单**：
  1. 检查是否符合 Vue 3 官方风格指南及 TS 严谨性
  2. 检查是否存在重复的 composable 逻辑，必须抽离
  3. 删除未使用的导入、变量、函数
  4. 运行 ESLint 检查并修复所有错误
  5. 确保所有 Props、Emits、函数都有完整的类型标注
